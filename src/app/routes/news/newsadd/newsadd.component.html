<div class="content__title">
    <h1>新闻页</h1>

</div>
<div nz-row [nzGutter]="16">
    <div nz-col [nzMd]="24">
        <nz-card>
            <form nz-form id="newsAddform" #contactForm="ngForm" (ngSubmit)="doSubmit(contactForm.value)">
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="4">
                        <label nz-form-item-required>一级栏目</label>
                    </div>
                    <div nz-form-control nz-col [nzSm]="20">
                        <nz-select [(ngModel)]="selectValue" name="selectValue" nzAllowClear>
                            <nz-option
                                *ngFor="let option of options"
                                [nzLabel]="option.label"
                                [nzValue]="option"
                                [nzDisabled]="option.disabled">
                            </nz-option>
                        </nz-select>
                    </div>
                </div>
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="4">
                        <label nz-form-item-required>二级栏目</label>
                    </div>
                    <div nz-form-control nz-col [nzSm]="20">
                        <nz-select [(ngModel)]="selectValue" name="selectValue" nzAllowClear>
                            <nz-option
                                *ngFor="let option of options"
                                [nzLabel]="option.label"
                                [nzValue]="option"
                                [nzDisabled]="option.disabled">
                            </nz-option>
                        </nz-select>
                    </div>
                </div>
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="4">
                        <label for="articleTitle" nz-form-item-required>标题</label>
                    </div>
                    <div nz-form-control nz-col [nzSm]="20">
                        <input [(ngModel)]="article.title" name="articleTitle" nz-input/>
                    </div>
                </div>

                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="4">
                        <label for="articleAddress" nz-form-item-required>副标题</label>
                    </div>
                    <div nz-form-control nz-col [nzSm]="20">
                        <input [(ngModel)]="article.address" name="articleAddress" nz-input/>
                    </div>
                </div>

                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="4">
                        <label nz-form-item-required>图片</label>
                    </div>

                    <div nz-col [nzSm]="4">
                        <button nz-button class="ant-btn__block file-upload mt-sm">
                            <input id="file1" accept type="file" ng2FileSelect [uploader]="uploader"/>
                            <i class="anticon anticon-upload"></i><span>上传</span>
                        </button>
                    </div>
                    <div nz-col [nzSm]="10" style="padding-left: 20px;">
                        <div nz-row>
                            <div nz-col [nzSpan]="20">
                                <nz-table #nzTable [nzDataSource]="files" [nzCustomNoResult]="true" [nzIsPagination]="false">
                                    <tbody nz-tbody>
                                    <tr nz-tbody-tr *ngFor="let item of nzTable.data">
                                        <td nz-td><strong>{{ item?.file?.name }}</strong></td>
                                        <td nz-td *ngIf="uploader.options.isHTML5" nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>
                                        <td nz-td *ngIf="uploader.options.isHTML5">
                                            <nz-progress [ngModel]="item.coverImageUrl" [nzStrokeWidth]="5"></nz-progress>
                                        </td>
                                        <td nz-td class="text-center">
                                            <span *ngIf="item.isSuccess"><nz-tag [nzColor]="'green'"></nz-tag></span>
                                            <span *ngIf="item.isCancel" class="mr-md"><nz-tag [nzColor]="'orange'"></nz-tag></span>
                                            <span *ngIf="item.isError"><nz-tag [nzColor]="'red'"></nz-tag></span>
                                        </td>
                                        <td nz-td nowrap>
                                            <nz-button-group>
                                                <button nz-button (click)="item.upload()" [nzType]="'primary'" [disabled]="item.isReady || item.isUploading || item.isSuccess">
                                                    <i class="anticon anticon-upload"></i>
                                                </button>
                                                <button nz-button (click)="item.cancel()" [disabled]="!item.isUploading">
                                                    <i class="anticon anticon-close"></i>
                                                </button>
                                                <button nz-button (click)="item.remove()">
                                                    <i class="anticon anticon-delete"></i>
                                                </button>
                                            </nz-button-group>
                                        </td>
                                    </tr>
                                    </tbody>
                                </nz-table>
                            </div>
                        </div>
                        <div nz-row>
                            <div nz-col [nzSpan]="20">
                                <nz-progress [ngModel]="article.coverImageUrl" name="articleCoverImageUrl" [nzStrokeWidth]="5"></nz-progress>
                                <nz-button-group class="mt-md d-block">
                                    <button nz-button (click)="uploader.uploadAll()" [nzType]="'primary'" [nzLoading]="uploader.isUploading" [disabled]="!uploader.getNotUploadedItems().length">
                                        <i class="anticon anticon-upload"></i><span>上传</span>
                                    </button>
                                    <button nz-button (click)="uploader.cancelAll()" [disabled]="!uploader.isUploading">
                                        <i class="anticon anticon-close"></i><span>取消</span>
                                    </button>
                                    <button nz-button (click)="uploader.clearQueue()" [disabled]="!uploader.queue.length">
                                        <i class="anticon anticon-delete"></i><span>删除</span>
                                    </button>
                                </nz-button-group>
                            </div>
                        </div>
                    </div>
                </div>
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="4">
                        <label for="articleDeleteFlag" nz-form-item-required>是否轮播</label>
                    </div>
                    <div nz-form-control nz-col [nzSm]="20">
                        <nz-switch [nzSize]="'large'" class="mr-sm" [(ngModel)]="article.deleteFlag" name="articleDeleteFlag"></nz-switch>
                    </div>
                </div>
                <div nz-form-item nz-row>
                    <div nz-form-label nz-col [nzSm]="4">
                        <label for="articleContent" nz-form-item-required>正文内容</label>
                    </div>
                </div>
                <ueditor [(ngModel)]="article.content" name="articleContent"
                         [config]="{ initialFrameHeight: 300 }"
                         [loadingTip]="'加载中……'"></ueditor>
                <div nz-form-item nz-row style="padding-top: 2rem;">
                    <div nz-form-control nz-col [nzSpan]="14" [nzXs]="24" [nzOffset]="6">
                        <button nz-button [nzType]="'primary'" style="margin-right: 1rem;" type="submit" >提交</button>
                    </div>
                </div>
            </form>
        </nz-card>
    </div>
</div>
