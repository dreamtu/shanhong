<nz-card>
    <form nz-form>
        <div nz-row nz-form-item [nzGutter]="16">
            <div nz-form-label nz-col [nzSm]="2">
                <label for="name">Name</label>
            </div>
            <div nz-form-control nz-col [nzSm]="5">
                <nz-input [(ngModel)]="args.name" name="name" [nzId]="'name'"></nz-input>
            </div>
            <div nz-form-label nz-col [nzSm]="2">
                <label>Created</label>
            </div>
            <div nz-form-control nz-col [nzSm]="8">
                <div nz-row>
                    <div nz-form-control nz-col [nzSpan]="11">
                        <nz-datepicker [(ngModel)]="args.created_begin" name="created_begin" [nzPlaceHolder]="'begin'"></nz-datepicker>
                    </div>
                    <div nz-col [nzSpan]="1">
                        <p nz-form-split>-</p>
                    </div>
                    <div nz-form-control nz-col [nzSpan]="11">
                        <nz-datepicker [(ngModel)]="args.created_end" name="created_end" [nzPlaceHolder]="'end'"></nz-datepicker>
                    </div>
                </div>
            </div>
            <div nz-form-label nz-col [nzSm]="2">
                <label>Gender</label>
            </div>
            <div nz-form-control nz-col [nzSm]="5">
                <nz-dropdown>
                    <a class="ant-dropdown-link" nz-dropdown>
                        {{args.gender ? args.gender : 'unlimit'}} <i class="anticon anticon-down"></i>
                    </a>
                    <ul nz-menu>
                        <li nz-menu-item (click)="args.gender=''">unlimit</li>
                        <li nz-menu-item (click)="args.gender='male'">male</li>
                        <li nz-menu-item (click)="args.gender='female'">female</li>
                    </ul>
                </nz-dropdown>
                <span class="text-grey-light">(only valid)</span>
            </div>
        </div>
        <div nz-row nz-form-item [nzGutter]="16" class="mb0">
            <div nz-form-label nz-col [nzSm]="2">
                <label for="userid">User ID</label>
            </div>
            <div nz-form-control nz-col [nzSm]="5">
                <nz-input [(ngModel)]="args.userid" name="userid" [nzId]="'userid'" [nzPlaceHolder]="'placeholder'"></nz-input>
            </div>
            <div nz-form-label nz-col [nzSm]="2">
                <label>Modified</label>
            </div>
            <div nz-form-control nz-col [nzSm]="8">
                <div nz-row>
                    <div nz-form-control nz-col [nzSpan]="11">
                        <nz-datepicker [(ngModel)]="args.modified_begin" name="modified_begin" [nzPlaceHolder]="'begin'"></nz-datepicker>
                    </div>
                    <div nz-col [nzSpan]="1">
                        <p nz-form-split>-</p>
                    </div>
                    <div nz-form-control nz-col [nzSpan]="11">
                        <nz-datepicker [(ngModel)]="args.modified_end" name="modified_end" [nzPlaceHolder]="'end'"></nz-datepicker>
                    </div>
                </div>
            </div>
            <div nz-col [nzSm]="5" [nzOffset]="2">
                <button nz-button [nzType]="'primary'" (click)="load(1)" [nzLoading]="loading"><span>Search</span></button>
                <button nz-button (click)="clear()" [disabled]="loading">Clear</button>
            </div>
        </div>
    </form>
</nz-card>
<div nz-row [nzGutter]="16">
    <div nz-col [nzMd]="24">
        <nz-card>
            <nz-table #nzTable
                [nzAjaxData]="list"
                [nzShowSizeChanger]="true"
                [nzLoading]="loading"
                [nzTotal]="total"
                [(nzPageIndex)]="pi"
                (nzPageIndexChange)="load(pi)"
                [(nzPageSize)]="ps"
                (nzPageSizeChange)="load()">
                <thead nz-thead>
                    <tr>
                        <th nz-th><span>图片</span></th>
                        <th nz-th><span>标题</span></th>
                        <th nz-th><span>是否轮播</span></th>
                        <th nz-th><span>地址</span></th>
                        <th nz-th><span>创建时间</span></th>
                        <th nz-th><span>操作</span></th>
                    </tr>
                </thead>
                <tbody nz-tbody>
                    <tr nz-tbody-tr *ngFor="let data of nzTable.data">
                        <td nz-td>
                            <nz-avatar [nzSrc]="data.cover_image_url" [nzSize]="'large'"></nz-avatar>
                        </td>
                        <td nz-td>{{data.title}}</td>
                        <td nz-td>
                            <nz-tag *ngIf="data.delete_flag=='0'" [nzColor]="'pink'">否</nz-tag>
                            <nz-tag *ngIf="data.delete_flag=='1'" [nzColor]="'green'">是</nz-tag>
                        </td>
                        <td nz-td>{{data.address}}</td>
                        <td nz-td>{{data.createtime | _date: 'YYYY年MM月DD日'}}</td>
                        <td nz-td>
                            <a (click)="showMsg('Edit')">编辑</a>
                            <span nz-table-divider></span>
                            <nz-popconfirm [nzTitle]="'确定删除？'" [nzOkText]="'确定'" [nzCancelText]="'取消'" (nzOnConfirm)="delNews(data.id)" (nzOnCancel)="showMsg('已取消')">
                                <a nz-popconfirm >删除</a>
                            </nz-popconfirm>
                        </td>
                    </tr>
                </tbody>
            </nz-table>
        </nz-card>
    </div>
</div>
